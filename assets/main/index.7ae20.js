System.register("chunks:///_virtual/APIDefine.ts",["cc"],(function(e){var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"d0dd5Is8PpAtYgTfch5/yIy","APIDefine",void 0);var t=0,i=e("ErrorHandleType",function(e){return e.NOTHING="NOTHING",e.CLOSE="CLOSE",e.RETRY="RETRY",e.RELOAD="RELOAD",e.BACK_TO_HOME="BACK_TO_HOME",e}({})),n=function(e,a,i){return{service:e,api:a,code:++t,errorHandleType:i}};e("default",{getProfile:n("auth","me",i.CLOSE),getBalances:n("game","getBalances",i.NOTHING),claimLoginReward:n("game","claimLoginReward",i.NOTHING),claimNewUserRewards:n("game","claimNewUserRewards",i.NOTHING),bookRewards:n("game","bookAndClaimReward",i.NOTHING),claimReward:n("game","claimReward",i.CLOSE),getMissionList:n("game","getMissionList",i.NOTHING),exchangeCoin:n("game","exchangeCoin",i.CLOSE),checkWeeklyTicket:n("game","checkWeeklyVoucher",i.NOTHING),getAllRewardsHistory:n("game","getAllRewardsHistory",i.CLOSE),getTicketsHistory:n("game","getTicketsHistory",i.CLOSE),getCoinWinnerList:n("game","getCoinWinnerList",i.CLOSE),hitSaveNowButton:n("game","hitSaveNowButton",i.NOTHING),track:n("game","track",i.NOTHING),userInteract:n("game","userInteract",i.NOTHING),checkRewardPopup:n("game","checkRewardPopup",i.NOTHING),doneShowingRewardPopup:n("game","doneShowingRewardPopup",i.NOTHING),getDeeplinks:n("game","getDeeplinks",i.CLOSE),getLoginMilestones:n("game","getLoginMilestones",i.NOTHING)});a._RF.pop()}}}));

System.register("chunks:///_virtual/AspectRatio.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,n,r,o,a,s,c,h,u,p,l,g,w,d;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,s=t._decorator,c=t.Enum,h=t.Node,u=t.CCFloat,p=t.CCInteger,l=t.UITransform,g=t.view,w=t.Size,d=t.Component}],execute:function(){var f,y,b,H,z,C,R,m,I,T,v,A,W,_;a._RF.push({},"24fc63lH6JKP6J5ksF4cEA2","AspectRatio",void 0);var D=s.ccclass,E=s.property,O=t("Constraint",c({WIDTH:0,HEIGHT:1,CONTAIN:2,COVER:3})),S=!0;t("AspectRatio",(f=D("AspectRatio"),y=E(h),b=E({type:u,visible:function(){return S}}),H=E({type:p,min:1}),z=E({type:p,min:1}),C=E({type:O,serializable:!0}),R=E({type:O,tooltip:"designRatio will be ignored if choosing CONTAIN or COVER"}),f((T=i((I=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,n(i,"target",T,r(i)),n(i,"designRatio",v,r(i)),n(i,"rawWidth",A,r(i)),n(i,"rawHeight",W,r(i)),n(i,"_constraint",_,r(i)),i}e(i,t);var a=i.prototype;return a.onLoad=function(){this.updateLayout()},a.updateLayout=function(){var t=this.target?this.target.getComponent(l).contentSize:g.getVisibleSize(),i=this.getComponent(l),e=t.width/this.rawWidth,n=t.height/this.rawHeight;this.constraint==O.WIDTH?i.contentSize=new w(t.width,t.width/this.designRatio):this.constraint==O.HEIGHT?i.contentSize=new w(t.height*this.designRatio,t.height):this.constraint==O.CONTAIN?i.contentSize=e<n?new w(t.width,this.rawHeight*e):new w(this.rawWidth*n,t.height):this.constraint==O.COVER&&(i.contentSize=e<n?new w(this.rawWidth*n,t.height):new w(t.width,this.rawHeight*e))},o(i,[{key:"constraint",get:function(){return this._constraint},set:function(t){this._constraint!==t&&(this._constraint=t,S=t===O.WIDTH||t===O.HEIGHT,this.updateLayout())}}]),i}(d)).prototype,"target",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(I.prototype,"designRatio",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 16/9}}),A=i(I.prototype,"rawWidth",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),W=i(I.prototype,"rawHeight",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_=i(I.prototype,"_constraint",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.WIDTH}}),i(I.prototype,"constraint",[R],Object.getOwnPropertyDescriptor(I.prototype,"constraint"),I.prototype),m=I))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/Ball.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./GameplayMgr.ts","./EventManager.ts","./FrameMgr.ts","./BallDefines.ts"],(function(e){var t,n,i,o,s,a,l,r,c,h,d,g,p,m,u,f,y,C,v,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.createClass},function(e){a=e.cclegacy,l=e._decorator,r=e.SpriteFrame,c=e.RigidBody2D,h=e.Sprite,d=e.Collider2D,g=e.Contact2DType,p=e.UITransform,m=e.CircleCollider2D,u=e.Component},function(e){f=e.GAME_EVENTS},function(e){y=e.GameplayMgr},function(e){C=e.default},function(e){v=e.FrameMgr},function(e){T=e.BALL_TYPES}],execute:function(){var B,D,E,L,A;a._RF.push({},"16268rKe4pGFYwI/4gtMmfv","Ball",void 0);var I=l.ccclass,N=l.property;e("Ball",(B=I("Ball"),D=N(r),B((A=t((L=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return t=e.call.apply(e,[this].concat(s))||this,i(t,"images",A,o(t)),t.ballType=T.ATTACK,t.level=0,t.mana=1,t.icon=void 0,t.needToDestroy=!1,t.isOld=!1,t}n(t,e);var a=t.prototype;return a.onLoad=function(){var e=this;C.GetInstance().on(f.BALL_DROP,(function(){e.getComponent(c).enabled&&(e.isOld=!0,C.GetInstance().off(f.BALL_DROP))}),this)},a.drop=function(){y.Instance.addGraveyard(this.BallType,this.level,this.mana),this.getComponent(c).gravityScale=1,this.getComponent(c).enabled=!0},a.fail=function(){this.needToDestroy=!0},a.init=function(e,t,n){this.BallType=e,this.icon=this.node.getChildByName("image").getChildByName("icon").getComponent(h),this.getComponent(d).on(g.BEGIN_CONTACT,this.onBeginContact),this.level=t,this.mana=n,this.updateImage()},a.onDestroy=function(){C.GetInstance().off(f.BALL_DROP)},a.onEnable=function(){this.node.getChildByName("image").getComponent(h).spriteFrame=this.images[this.level]},a.update=function(e){},a.levelUp=function(){this.level++,this.level!==this.images.length-1&&this.updateImage()},a.updateImage=function(){switch(this.node.getChildByName("image").getComponent(h).spriteFrame=this.images[this.level],this.getComponent(p).width=this.node.getChildByName("image").getComponent(p).width,this.getComponent(p).height=this.node.getChildByName("image").getComponent(p).height,this.node.getComponent(m).enabled=!1,this.node.getComponent(m).radius=this.getComponent(p).width/2,this.node.getComponent(m).enabled=!0,this.BallType){case T.ATTACK:this.icon.spriteFrame=v.Instance.ICON_ATTACK;break;case T.DEFENSE:this.icon.spriteFrame=v.Instance.ICON_DEFENSE}},a.trigger=function(e){switch(e){case T.ATTACK:console.log("ATTACK",this.Level),C.GetInstance().emit(f.PLAYER_ATTACK,{dmg:this.Level+1});break;case T.DEFENSE:console.log("DEFENSE",this.Level),C.GetInstance().emit(f.PLAYER_DEFENSE,{amount:this.Level+1})}},a.onBeginContact=function(e,n,i){var o=e.getComponent(t),s=n.getComponent(t);if(o&&s&&o.level===s.Level&&o.Level!==o.images.length-1&&s.Level!==o.images.length-1)if(o.isOld&&s.isOld)s.trigger(s.BallType),o.trigger(o.BallType),s.levelUp(),s.node.setPosition(n.node.position.clone().add(e.node.position).divide3f(2,2,2)),o.needToDestroy=!0,s.isOld=!0;else{var a=s,l=o;o.isOld&&(a=o,l=s),a.trigger(a.BallType),l.trigger(l.BallType),a.levelUp(),a.node.setPosition(n.node.position.clone().add(e.node.position).divide3f(2,2,2)),l.needToDestroy=!0,a.isOld=!0}},a.lateUpdate=function(e){this.needToDestroy?this.node.destroy():this.node.position.y<-2e3&&(this.needToDestroy=!0,y.Instance.addSelection(this.BallType,this.Level,this.mana))},s(t,[{key:"BallType",get:function(){return this.ballType},set:function(e){this.ballType=e}},{key:"Level",get:function(){return this.level},set:function(e){this.level=e}},{key:"Mana",get:function(){return this.mana},set:function(e){this.mana=e}}]),t}(u)).prototype,"images",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=L))||E));a._RF.pop()}}}));

System.register("chunks:///_virtual/BallDefines.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"5044aVxkDlPA7JDQ5Kbkcdd","BallDefines",void 0);e("BALL_TYPES",function(e){return e[e.ATTACK=0]="ATTACK",e[e.DEFENSE=1]="DEFENSE",e[e.END=2]="END",e}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/Board.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./Defines.ts","./GameplayMgr.ts"],(function(n){var t,o,e,r,a,i,c,s,u;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy,e=n._decorator,r=n.Collider2D,a=n.Contact2DType,i=n.Component},function(n){c=n.checkPhysicGroup},function(n){s=n.PHYSIC_GROUPS},function(n){u=n.GameplayMgr}],execute:function(){var l;o._RF.push({},"34049agNVNIXJHwbkB4a8ID","Board",void 0);var p=e.ccclass;e.property,n("Board",p("Board")(l=function(n){function o(){for(var t,o=arguments.length,e=new Array(o),r=0;r<o;r++)e[r]=arguments[r];return(t=n.call.apply(n,[this].concat(e))||this).balls=[],t}t(o,n);var e=o.prototype;return e.onLoad=function(){this.getComponent(r).on(a.BEGIN_CONTACT,this.onBeginContact,this)},e.onBeginContact=function(n,t,o){if(c(t.group,s.BALL)){if(-1!==this.balls.indexOf(t.node.name))return;return u.Instance.addSelection(),void this.balls.push(t.node.name)}},o}(i))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/DeckDefines.ts",["cc","./BallDefines.ts"],(function(E){var A,L;return{setters:[function(E){A=E.cclegacy},function(E){L=E.BALL_TYPES}],execute:function(){A._RF.push({},"f4788YzWWdOhZ/BmwJih3a9","DeckDefines",void 0);E("DECK_CONFIG",{MIN_BALLS:12,MAX_BALLS:24}),E("DECK_BASE",[{TYPE:L.ATTACK,LEVEL:0,MANA:4},{TYPE:L.ATTACK,LEVEL:0,MANA:1},{TYPE:L.ATTACK,LEVEL:0,MANA:1},{TYPE:L.ATTACK,LEVEL:0,MANA:1},{TYPE:L.ATTACK,LEVEL:0,MANA:1},{TYPE:L.ATTACK,LEVEL:0,MANA:1},{TYPE:L.DEFENSE,LEVEL:0,MANA:1},{TYPE:L.DEFENSE,LEVEL:0,MANA:1},{TYPE:L.DEFENSE,LEVEL:0,MANA:1},{TYPE:L.DEFENSE,LEVEL:0,MANA:1},{TYPE:L.DEFENSE,LEVEL:0,MANA:1},{TYPE:L.DEFENSE,LEVEL:0,MANA:1}]);A._RF.pop()}}}));

System.register("chunks:///_virtual/Defines.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"833a9oCt9pHTrXyBJ/yXHTf","Defines",void 0);var t=e("Profiles",(function(){this.finishTutorial=!0})),E=e("Config",(function(){}));E.REST_API_SERVER="...",E.profiles=new t,E.isSupportTwoScreenSize=!1,E.gameDuration=30,E.gameDuration_outfit7=25;e("EventType",function(e){return e.INGAME="ingame",e.RESULT="result",e.POPUP_TUTORIAL="popup_tutorial",e.POPUP_EXIT="popup_exit",e.POPUP_NO_REWARD="popup_no_reward",e.SYSTEM="system",e.ELO_ERROR="ELO_ERROR",e}({})),e("ActionIngame",function(e){return e[e.TIMEOUT=0]="TIMEOUT",e[e.EXIT=1]="EXIT",e[e.BACK_PRESS=2]="BACK_PRESS",e}({})),e("ActionResult",function(e){return e[e.RETRY=0]="RETRY",e[e.EXIT=1]="EXIT",e[e.GOT_REWARD=2]="GOT_REWARD",e}({})),e("ActionPopupExit",function(e){return e[e.YES=0]="YES",e[e.NO=1]="NO",e}({})),e("ActionPopupTutorial",function(e){return e[e.SHOW=0]="SHOW",e[e.HIDE=1]="HIDE",e}({})),e("ActionPopupNoReward",function(e){return e[e.SHOW=0]="SHOW",e[e.HIDE=1]="HIDE",e}({})),e("ActionSystem",function(e){return e[e.PAUSE=0]="PAUSE",e[e.RESUME=1]="RESUME",e[e.BACK=2]="BACK",e}({})),e("EffectType",function(e){return e[e.NONE=0]="NONE",e[e.BOOST=1]="BOOST",e[e.PLUS_10=2]="PLUS_10",e[e.MINUS_5=3]="MINUS_5",e[e.TEXT_GO=4]="TEXT_GO",e[e.TEXT_TIME_UP=5]="TEXT_TIME_UP",e}({})),e("GAME_DEFINES",{}),e("PHYSIC_GROUPS",function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.PLAYER=1]="PLAYER",e[e.BOARD=2]="BOARD",e[e.BALL=3]="BALL",e[e.BOARD_INSIDE=4]="BOARD_INSIDE",e}({})),e("NodeType",function(e){return e[e.Unknown=0]="Unknown",e[e.MinorEnemy=1]="MinorEnemy",e[e.EliteEnemy=2]="EliteEnemy",e[e.RestSite=3]="RestSite",e[e.Treasure=4]="Treasure",e[e.SpellRoom=5]="SpellRoom",e[e.Boss=6]="Boss",e}({})),e("NodeStates",function(e){return e[e.Locked=0]="Locked",e[e.Visited=1]="Visited",e[e.Attainable=2]="Attainable",e}({})),e("GAME_EVENTS",function(e){return e.PLAYER_HIT="player-hit",e.PLAYER_DROP="player-drop",e.PLAYER_ATTACK="player-attack",e.PLAYER_DEFENSE="player-defense",e.BALL_DROP="ball-drop",e.BALL_DROP_FAIL="ball-drop-fail",e.ENEMY_HIT="enemy-hit",e.ENEMY_ATTACK="enemy-attack",e.ENTER_NODE="enter-node",e}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/ElfScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopupMgr.ts","./Fade.ts","./LoadSceneManager.ts"],(function(e){var n,a,t,r,i,o,u,l,p,c,d,f,s;return{setters:[function(e){n=e.applyDecoratedDescriptor,a=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.createClass},function(e){o=e.cclegacy,u=e._decorator,l=e.Prefab,p=e.instantiate,c=e.Component},function(e){d=e.PopupMgr},function(e){f=e.Fade},function(e){s=e.LoadSceneManager}],execute:function(){var g,h,b,y,v,P,C,M,m,F;o._RF.push({},"0791baNb+FFDahhRSVoU7QW","ElfScene",void 0);var S=u.ccclass,L=u.property;e("ElfScene",(g=S("ElfScene"),h=L(l),b=L(l),y=L(l),g(((F=function(e){function n(){for(var n,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i))||this,t(n,"loadingPrefab",C,r(n)),t(n,"fadePrefab",M,r(n)),t(n,"popupMgrPrefab",m,r(n)),n}a(n,e);var o=n.prototype;return o.onLoad=function(){var e=p(this.loadingPrefab);n.loading=e,this.node.parent.getChildByName("Canvas").addChild(e);var a=p(this.fadePrefab);n.fade=a,this.node.parent.getChildByName("Canvas").addChild(a),this.LoadSceneManager.Fade=this.Fade;var t=p(this.popupMgrPrefab);n.popupMgr=t,this.node.parent.getChildByName("Canvas").addChild(t)},o.fadeOut=function(e){void 0===e&&(e=function(){}),this.Fade.out(e)},o.fadeIn=function(e){void 0===e&&(e=function(){}),this.Fade.in(e)},o.onEnable=function(){this.fadeOut()},i(n,[{key:"PopupManager",get:function(){return n.popupMgr.getComponent(d)}},{key:"LoadSceneManager",get:function(){return n.loading.getComponent(s)}},{key:"Fade",get:function(){return n.fade.getComponent(f)}}]),n}(c)).loading=null,F.popupMgr=null,F.fade=null,C=n((P=F).prototype,"loadingPrefab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(P.prototype,"fadePrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=n(P.prototype,"popupMgrPrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=P))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/EN.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"f14cdGb/wFCk4Hp4ULm/qES","EN",void 0);e("EN",{CONGRATULATIONS:"Congratulations!",YOUR_SCORE:"Your score is %d.",REWARD_CANTGET:"Your reward could not be delivered due to a lost connection. replay with a better connection to get it!",TUTORIAL_1:"Swipe up or down to avoid obstacles",LOADING:"Loading...",INTERSTITIAL_1:"Play and get %d %token%",LOST_CONNECT:"Please check your connection and try again.",EXIT_POPUP:"Are you sure you want to quit? You will not get your reward.",RETRY:"Retry",AD_TEXT:"Advertisement",GAME_TEXT_2:"Time's up",END_TEXT_1:"Learn more",REPLAY:"Replay",OK_BTN:"OK",QUIT:"Quit",RESUME:"Resume",GO:"Go!"});t._RF.pop()}}}));

System.register("chunks:///_virtual/Enemy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./EnemyDefines.ts","./Utils.ts","./Defines.ts"],(function(t){var e,n,s,i,a,r,o,c,h,p,u,f,l,E,S,g,y,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,s=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.extends,r=t.createClass},function(t){o=t.cclegacy,c=t._decorator,h=t.ccenum,p=t.ProgressBar,u=t.Label,f=t.Component},function(t){l=t.default},function(t){E=t.ENEMIES,S=t.enemyStats,g=t.ENEMY_BASE_STATS},function(t){y=t.cloneObj},function(t){m=t.GAME_EVENTS}],execute:function(){var A,d,H,T,_;o._RF.push({},"be2a5idJUpA/JbvtY98vYIH","Enemy",void 0);var P=c.ccclass,v=c.property;h(E);t("Enemy",(A=P("Enemy"),d=v({type:E}),A((_=e((T=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,s(e,"character",_,i(e)),e.stats=void 0,e.hpBar=void 0,e.hpTxt=void 0,e}n(e,t);var o=e.prototype;return o.onLoad=function(){var t=this,e=this.node.getChildByName("HP"),n=e.getChildByName("txt");this.hpBar=e,this.hpTxt=n,this.Stats=y(a({},g,S[this.character])),this.Stats.HP=this.Stats.HP_MAX,this.hpBar.getComponent(p).progress=this.Stats.HP/this.Stats.HP_MAX,this.hpTxt.getComponent(u).string=this.Stats.HP+"/"+this.Stats.HP_MAX,l.GetInstance().on(m.ENEMY_HIT,(function(e){var n=e.dmg;t.hit(n)})),l.GetInstance().on(m.ENEMY_ATTACK,(function(){t.attack()}))},o.onDestroy=function(){l.GetInstance().off(m.ENEMY_HIT),l.GetInstance().off(m.ENEMY_ATTACK)},o.hit=function(t){this.Stats.HP-=t,this.hpTxt.getComponent(u).string=this.Stats.HP+"/"+this.Stats.HP_MAX,this.hpBar.getComponent(p).progress=this.Stats.HP/this.Stats.HP_MAX},o.attack=function(){l.GetInstance().emit(m.PLAYER_HIT,{dmg:this.Stats.ATTACK})},r(e,[{key:"Stats",get:function(){return this.stats},set:function(t){this.stats=t}}]),e}(f)).prototype,"character",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.NORMAL}}),H=T))||H));o._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyDefines.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){var t;n._RF.push({},"5c449rBKfJFc5ckhvaNMvbu","EnemyDefines",void 0);e("ENEMY_BASE_STATS",{HP:50,HP_MAX:50,ATTACK:5,SHIELD:0,CRIT_RATE:.15,CRIT_DAMAGE:1.5});var c=e("ENEMIES",function(e){return e[e.NORMAL=0]="NORMAL",e}({}));e("enemyStats",((t={})[c.NORMAL]={HP:50},t));n._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e,r;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,r=n.EventTarget}],execute:function(){e._RF.push({},"124d0qvhjNPVLJB2NHNKN1V","EventManager",void 0);n("default",new(function(n){function e(){for(var t,e=arguments.length,r=new Array(e),c=0;c<e;c++)r[c]=arguments[c];return(t=n.call.apply(n,[this].concat(r))||this).instance=null,t}return t(e,n),e.prototype.GetInstance=function(){return null==this.instance&&(this.instance=new e),this.instance},e}(r)));e._RF.pop()}}}));

System.register("chunks:///_virtual/Fade.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,o,r,n,a,c,l,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,c=t.UIOpacity,l=t.CCFloat,u=t.tween,p=t.Component}],execute:function(){var s,y,f,v,h,d,m,b,w;n._RF.push({},"fe104YhDRFOtISwErwwtd8M","Fade",void 0);var F=a.ccclass,g=a.property;t("Fade",(s=F("Fade"),y=g(c),f=g(l),v=g(l),s((m=e((d=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,o(e,"overlay",m,r(e)),o(e,"timeIn",b,r(e)),o(e,"timeOut",w,r(e)),e}i(e,t);var n=e.prototype;return n.in=function(t){var e=this;void 0===t&&(t=void 0),this.overlay.opacity=0,u(this.overlay).to(this.timeIn,{opacity:255},{onStart:function(){},onComplete:function(){e.overlay.opacity=0,t&&t()}}).start()},n.out=function(t){void 0===t&&(t=void 0),this.overlay.opacity=255,u(this.overlay).to(this.timeOut,{opacity:0},{onStart:function(){},onComplete:function(){t&&t()}}).start()},n.black=function(){this.overlay.opacity=255},e}(p)).prototype,"overlay",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=e(d.prototype,"timeIn",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),w=e(d.prototype,"timeOut",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),h=d))||h));n._RF.pop()}}}));

System.register("chunks:///_virtual/FrameMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonComponent.ts"],(function(e){var r,t,i,n,a,o,l,c;return{setters:[function(e){r=e.inheritsLoose,t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.SpriteFrame},function(e){c=e.default}],execute:function(){var u,p,s,f,g,y,b,m,F;a._RF.push({},"e7efdX6efBIGZygRVgF2DVw","FrameMgr",void 0);var _=o.ccclass,A=o.property;e("FrameMgr",(u=_("FrameMgr"),p=A(l),s=A(l),f=A([l]),u((y=function(e){function t(){for(var r,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return r=e.call.apply(e,[this].concat(a))||this,i(r,"ICON_ATTACK",b,n(r)),i(r,"ICON_DEFENSE",m,n(r)),i(r,"BALL_IMAGE",F,n(r)),r}return r(t,e),t}(c()),b=t(y.prototype,"ICON_ATTACK",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(y.prototype,"ICON_DEFENSE",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(y.prototype,"BALL_IMAGE",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=y))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameInit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Defines.ts"],(function(t){var e,i,n,a,o,r,s,c,p,l,d,u,h,m,f,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,s=t.Node,c=t.view,p=t.macro,l=t.UITransform,d=t.director,u=t.Component},function(t){h=t.default},function(t){m=t.Config,f=t.ActionSystem,g=t.EventType}],execute:function(){var v,w,S,I,T,C,A;o._RF.push({},"c543fyGmo5MiZhyw5YIB73Y","GameInit",void 0);var R=r.ccclass,y=r.property;t("GameInit",(v=R("GameInit"),w=y(s),S=y(s),v((C=e((T=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"portrait",C,a(e)),n(e,"landscape",A,a(e)),e}i(e,t);var o=e.prototype;return o.onLoad=function(){this.Init(),this.Alignment()},o.start=function(){},o.Init=function(){window.gTotalTimeSpent=0,window.gIngameTimeSpent=0,window.gLoadingTimeSpent=0,this.FunctionDefines()},o.Alignment=function(){var t=c.getDesignResolutionSize(),e=t.width<t.height,i=c.getVisibleSize(),n=window.innerWidth<window.innerHeight;if(c.isRotate())if(e)c.setOrientation(p.ORIENTATION_PORTRAIT),c.setRotateAngle(-90),n?(this.portrait.active=!0,this.landscape.active=!1,this.portrait.getComponent(l).setContentSize(i)):(this.portrait.active=!1,this.landscape.active=!0,this.landscape.getComponent(l).setContentSize(i));else{c.setOrientation(p.ORIENTATION_LANDSCAPE),c.setRotateAngle(-90);var a=window.innerWidth/window.innerHeight;m.isSupportTwoScreenSize?(this.portrait.active=!0,this.portrait.getComponent(l).setContentSize(i.width*a,i.width)):(this.landscape.active=!0,this.landscape.getComponent(l).setContentSize(i.width,i.width*a))}else e?(c.setOrientation(p.ORIENTATION_PORTRAIT),c.setRotateAngle(-90),n?(this.portrait.active=!0,this.landscape.active=!1,this.portrait.getComponent(l).setContentSize(i)):(this.portrait.active=!1,this.landscape.active=!0)):(this.portrait.active=!1,this.landscape.active=!0,this.landscape.getComponent(l).setContentSize(i))},o.FunctionDefines=function(){var t=window;t.onGamePause=function(){var t={action:f.PAUSE,data:{}};d.pause(),h.GetInstance().emit(g.SYSTEM,t)},t.onGameResume=function(){var t={action:f.RESUME,data:{}};d.resume(),h.GetInstance().emit(g.SYSTEM,t)},t.onBackPressed=function(){var t={action:f.BACK,data:{}};h.GetInstance().emit(g.SYSTEM,t)};t.onControllerEvent=function(t,e){if(16===t&&0===e){var i={action:f.BACK,data:{}};h.GetInstance().emit(g.SYSTEM,i)}}},e}(u)).prototype,"portrait",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(T.prototype,"landscape",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=T))||I));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameplayMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonComponent.ts","./Timer.ts","./EventManager.ts","./Ball.ts","./FrameMgr.ts","./BallDefines.ts","./Utils.ts","./DeckDefines.ts","./Defines.ts"],(function(e){var t,i,n,a,r,l,o,c,s,u,g,p,h,f,d,v,b,m,C,D,y,B,E,T,k;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass,n=e.applyDecoratedDescriptor,a=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,c=e.Prefab,s=e.Node,u=e.Label,g=e.Vec2,p=e.instantiate,h=e.Sprite,f=e.Color,d=e.Vec3},function(e){v=e.default},function(e){b=e.default},function(e){m=e.default},function(e){C=e.Ball},function(e){D=e.FrameMgr},function(e){y=e.BALL_TYPES},function(e){B=e.cloneArray},function(e){E=e.DECK_BASE,T=e.DECK_CONFIG},function(e){k=e.GAME_EVENTS}],execute:function(){var P,I,L,N,A,M,_,w,S,U,G,z,x,F,O,R,V,H,Y,K,X,j,W;l._RF.push({},"c6e89NBD/ZIsbEGoeEEXMHM","GameplayMgr",void 0);var Z=o.ccclass,q=o.property;e("GameplayMgr",(P=Z("GameplayMgr"),I=q(c),L=q(s),N=q(s),A=q(c),M=q(u),_=q(s),w=q(s),S=q(u),U=q(s),G=q(s),P((x=function(e){function n(){for(var t,i=arguments.length,n=new Array(i),l=0;l<i;l++)n[l]=arguments[l];return t=e.call.apply(e,[this].concat(n))||this,a(t,"ballPrefab",F,r(t)),a(t,"ballContainer",O,r(t)),a(t,"selectionsContainer",R,r(t)),a(t,"selectionsPrefab",V,r(t)),a(t,"deckNumTxt",H,r(t)),a(t,"deckDetailContainer",Y,r(t)),a(t,"deckDetailUI",K,r(t)),a(t,"graveNumTxt",X,r(t)),a(t,"graveDetailContainer",j,r(t)),a(t,"graveDetailUI",W,r(t)),t.gap=void 0,t.ballCount=0,t.deck=[],t.grave=[],t.currentBall=null,t.delayTimer=new b,t}t(n,e);var l=n.prototype;return l.onLoad=function(){e.prototype.onLoad.call(this),this.deck=this.shuffleDeck(B([].concat(E))),this.initDetail(this.deckDetailContainer),this.initDetail(this.graveDetailContainer),this.gap=new g(this.node.position.x-this.node.worldPosition.x,this.node.position.y-this.node.worldPosition.y+100);for(var t=0;t<5;t++)this.addSelection()},l.initDetail=function(e){for(var t=0;t<T.MAX_BALLS;t++){var i=p(this.selectionsPrefab);i.parent=e,i.active=!1}},l.udpateDetail=function(e,t){e.children.forEach((function(e,i){t[i]?(e.active=!0,e.getComponent(h).spriteFrame=D.Instance.BALL_IMAGE[t[i].LEVEL],e.getChildByName("icon").getComponent(h).spriteFrame=D.Instance["ICON_"+y[t[i].TYPE]],e.getChildByPath("icon/manabg/mana").getComponent(u).string=t[i].MANA.toString()):e.active=!1}))},l.showDeckDetail=function(){this.udpateDetail(this.deckDetailContainer,this.deck),this.deckDetailUI.active=!0},l.hideDeckDetail=function(){this.deckDetailUI.active=!1},l.showGraveDetail=function(){this.udpateDetail(this.graveDetailContainer,this.grave),this.graveDetailUI.active=!0},l.hideGraveDetail=function(){this.graveDetailUI.active=!1},l.shuffleDeck=function(e){for(var t=e.length-1;t>0;t--){var i=Math.floor(Math.random()*(t+1)),n=[e[i],e[t]];e[t]=n[0],e[i]=n[1]}return e},l.addSelection=function(e,t,i){void 0===e&&(e=-1),void 0===t&&(t=-1),void 0===i&&(i=-1),0===this.deck.length&&this.graveToDeck(),console.log(this.deck);var n=e,a=t,r=i;if(-1===e&&-1===t&&-1===i){var l=this.deck.shift();n=l.TYPE,a=l.LEVEL,r=l.MANA}if((e+1)*(t+1)*(i+1)!=0||e+1+(t+1)+(i+1)===0){var o=p(this.selectionsPrefab);o.name=n+"_"+a.toString()+"_"+r,o.parent=this.selectionsContainer,o.getComponent(h).spriteFrame=D.Instance.BALL_IMAGE[a],o.getChildByName("icon").getComponent(h).spriteFrame=D.Instance["ICON_"+y[n]],o.getChildByPath("icon/manabg/mana").getComponent(u).string=r.toString(),this.initBallInput(o)}else console.error("Wrong ball params")},l.addGraveyard=function(e,t,i){void 0===e&&(e=-1),void 0===t&&(t=-1),void 0===i&&(i=-1),this.grave.push({TYPE:e,LEVEL:t,MANA:i})},l.graveToDeck=function(){console.log("clone"),this.deck=B(this.grave),this.grave=[]},l.initBallInput=function(e){var t=this;e.on(s.EventType.TOUCH_START,(function(i){if(!t.currentBall){var n=p(t.ballPrefab);n.name=(t.ballCount++).toString(),n.parent=t.ballContainer,t.currentBall=n;var a=e.name.split("_"),r=a[0],l=a[1],o=a[2];t.currentBall.getComponent(C).init(Number(r),Number(l),Number(o));var c=i.getUILocation();t.setCurrentBallPosition(c.clone().add(t.gap)),e.getComponent(h).color=f.TRANSPARENT}})),e.on(s.EventType.TOUCH_MOVE,(function(e){if(t.currentBall){var i=e.getUILocation();t.setCurrentBallPosition(i.clone().add(t.gap))}})),e.on(s.EventType.TOUCH_END,(function(i){t.drop(i,t.gap,e)})),e.on(s.EventType.TOUCH_CANCEL,(function(i){t.drop(i,t.gap,e)}))},l.drop=function(e,t,i){if(this.currentBall)try{var n=this.currentBall;this.delayTimer.SetDuration(.5);var a=e.getUILocation();m.GetInstance().emit(k.PLAYER_DROP,{mana:this.currentBall.getComponent(C).Mana,selection:i,ball:n}),this.setCurrentBallPosition(a.clone().add(t)),this.currentBall&&(this.currentBall=null)}catch(e){console.log(e),this.currentBall&&(this.currentBall=null)}},l.setCurrentBallPosition=function(e){this.currentBall.setPosition(new d(e.x,e.y>400?e.y:this.currentBall.position.y))},l.update=function(e){this.deckNumTxt.string=this.deck.length.toString(),this.graveNumTxt.string=this.grave.length.toString()},i(n,[{key:"CurrentBall",get:function(){return this.currentBall}}]),n}(v()),F=n(x.prototype,"ballPrefab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=n(x.prototype,"ballContainer",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=n(x.prototype,"selectionsContainer",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=n(x.prototype,"selectionsPrefab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=n(x.prototype,"deckNumTxt",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=n(x.prototype,"deckDetailContainer",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=n(x.prototype,"deckDetailUI",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=n(x.prototype,"graveNumTxt",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=n(x.prototype,"graveDetailContainer",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=n(x.prototype,"graveDetailUI",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=x))||z));l._RF.pop()}}}));

System.register("chunks:///_virtual/i18n.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ID.ts","./EN.ts","./RU.ts"],(function(n){var e,t,u,a,c,r,i;return{setters:[function(n){e=n.createClass},function(n){t=n.cclegacy,u=n.Enum,a=n.EventTarget},function(n){c=n.ID},function(n){r=n.EN},function(n){i=n.RU}],execute:function(){t._RF.push({},"b4e0cFinNRBdK+2gkNfSEKH","i18n",void 0);n("i18n_TEXT_KEYS",u(c));var f=n("i18n_LANGUAGES",u({EN:0,RU:1})),g=u({LANGUAGE_CHANGE:"i18n_language_changed"}),o=n("i18n",function(){function n(){}return n.findKey=function(n){return Object.keys(c).find((function(e){return c[e]===n}))||""},n.init=function(e){if(n.currentLanguage!==e){switch(e){case f.RU:n.data=i,n.currentLanguage=f.RU;break;default:n.data=r,n.currentLanguage=f.EN}n.evt.emit(g.LANGUAGE_CHANGE,n.currentLanguage)}},n.t=function(e,t){var u=n.data[n.findKey(e)];return t&&t.forEach((function(n){u=u.replace(n.find,n.replace)})),u},n.onLanguageChanged=function(e,t){n.evt.on(g.LANGUAGE_CHANGE,e,t)},n.offLanguageChanged=function(e,t){n.evt.off(g.LANGUAGE_CHANGE,e,t)},e(n,null,[{key:"language",get:function(){return n.currentLanguage}}]),n}());o.data=r,o.currentLanguage=f.EN,o.evt=new a,t._RF.pop()}}}));

System.register("chunks:///_virtual/ID.ts",["cc"],(function(T){var E;return{setters:[function(T){E=T.cclegacy}],execute:function(){E._RF.push({},"8a18f2BA/NG0L2cNwZg2k49","ID",void 0);T("ID",{CONGRATULATIONS:0,YOUR_SCORE:1,REWARD_CANTGET:2,TUTORIAL_1:3,LOADING:4,INTERSTITIAL_1:5,LOST_CONNECT:6,EXIT_POPUP:7,RETRY:8,AD_TEXT:9,GAME_TEXT_2:10,END_TEXT_1:11,REPLAY:12,OK_BTN:13,QUIT:14,RESUME:15,GO:16});E._RF.pop()}}}));

System.register("chunks:///_virtual/LabelLocalized.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18n.ts"],(function(e){var t,n,a,i,o,r,u,l,s,g,p,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.createClass},function(e){r=e.cclegacy,u=e._decorator,l=e.Label,s=e.Component},function(e){g=e.i18n_LANGUAGES,p=e.i18n_TEXT_KEYS,c=e.i18n}],execute:function(){var h,_,y,d,f,b,L,x,m,z,C;r._RF.push({},"d133dY3TzhFMLmhLTnJbDJ+","LabelLocalized",void 0);var K=u.ccclass,T=u.property,D=u.requireComponent,v=u.executeInEditMode;e("LabelLocalized",(h=K("LabelLocalized"),_=D(l),y=v(!0),d=T({serializable:!0}),f=T({type:g,readonly:!0,tooltip:"Change current language by i18n.init function"}),b=T({serializable:!0}),L=T({type:p,tooltip:"Change text ID"}),h(x=_(x=y((z=t((m=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,a(t,"_language",z,i(t)),a(t,"_textKey",C,i(t)),t._params=null,t._label=null,t}n(t,e);var r=t.prototype;return r.updateParams=function(e){this._params=e,this._updateText()},r._updateText=function(){this._label&&(this._label.string=c.t(this._textKey,this._params))},r._updateLanguage=function(){c.init(this._language),this._updateText()},r._onLanguageChanged=function(e){this._updateText()},r.onLoad=function(){this._label=this.getComponent(l),c.onLanguageChanged(this._onLanguageChanged,this)},r.onDestroy=function(){c.offLanguageChanged(this._onLanguageChanged,this)},o(t,[{key:"language",get:function(){return this._language},set:function(e){this._language!==e&&(this._language=e,this._updateLanguage())}},{key:"textKey",get:function(){return this._textKey},set:function(e){this._textKey!==e&&(this._textKey=e,this._updateText())}}]),t}(s)).prototype,"_language",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),t(m.prototype,"language",[f],Object.getOwnPropertyDescriptor(m.prototype,"language"),m.prototype),C=t(m.prototype,"_textKey",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),t(m.prototype,"textKey",[L],Object.getOwnPropertyDescriptor(m.prototype,"textKey"),m.prototype),x=m))||x)||x)||x));r._RF.pop()}}}));

System.register("chunks:///_virtual/LanesConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,o,r,a,l,s,p,f,u,c,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass},function(t){a=t.cclegacy,l=t._decorator,s=t.Vec2,p=t.CCInteger,f=t.CCFloat,u=t.Node,c=t.Vec3,y=t.Component}],execute:function(){var h,g,d,b,L,P,m,O,C,w,_,R,D,z,v,M,B,T,S,x,Z,j,k,E,A,F,I,K,V,q,N,H,U,G,J,Q,W,X;a._RF.push({},"03814KztVNKUKSp9bpPMgPr","LanesConfig",void 0);var Y=l.ccclass,$=l.property,tt=l.executionOrder,et=l.executeInEditMode;t("LanesConfig",(h=Y("LanesConfig"),g=tt(-1e3),d=et(!0),b=$({type:s}),L=$({serializable:!0}),P=$({type:s,tooltip:"Apply to lane center points, x = offset mid lane, y = offset top & bottom lane"}),m=$({serializable:!0}),O=$({type:p,step:10,tooltip:"Apply to lane left points"}),C=$({type:p,serializable:!0}),w=$({type:p,step:10,tooltip:"Apply to lane right points"}),_=$({type:p,serializable:!0}),R=$({type:f,step:1,min:1,tooltip:"Apply to find perpendicular vector with road"}),D=$({type:f,serializable:!0}),z=$(u),v=$(u),M=$(u),B=$(u),T=$(u),S=$(u),x=$(u),Z=$(u),j=$(u),h(k=g(k=d((e((E=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"_roadPatternOffset",A,o(e)),i(e,"_laneCenterOffset",F,o(e)),i(e,"_laneLeftDistance",I,o(e)),i(e,"_laneRightDistance",K,o(e)),i(e,"_eyeRatio",V,o(e)),i(e,"leftTopLane",q,o(e)),i(e,"leftMidLane",N,o(e)),i(e,"leftBottomLane",H,o(e)),i(e,"centerTopLane",U,o(e)),i(e,"centerMidLane",G,o(e)),i(e,"centerBottomLane",J,o(e)),i(e,"rightTopLane",Q,o(e)),i(e,"rightMidLane",W,o(e)),i(e,"rightBottomLane",X,o(e)),e}n(e,t);var a=e.prototype;return a.onLoad=function(){this.updateConfig()},a.updateConfig=function(){var t=new c(this.roadPatternOffset.x,this.roadPatternOffset.y,0),e=c.normalize(new c,t);this.updateConfigCenterPoints(e,this.laneCenterOffset.x,this.laneCenterOffset.y),this.updateConfigLeftPoints(e,this.laneLeftDistance),this.updateConfigRightPoints(e,this.laneRightDistance)},a.updateConfigLeftPoints=function(t,e){var n=this.centerTopLane.getPosition();c.add(n,n,c.multiplyScalar(new c,t,e));var i=this.centerMidLane.getPosition();c.add(i,i,c.multiplyScalar(new c,t,e));var o=this.centerBottomLane.getPosition();c.add(o,o,c.multiplyScalar(new c,t,e)),this.leftTopLane.setPosition(n),this.leftMidLane.setPosition(i),this.leftBottomLane.setPosition(o)},a.updateConfigRightPoints=function(t,e){var n=this.centerTopLane.getPosition();c.add(n,n,c.multiplyScalar(new c,t,e));var i=this.centerMidLane.getPosition();c.add(i,i,c.multiplyScalar(new c,t,e));var o=this.centerBottomLane.getPosition();c.add(o,o,c.multiplyScalar(new c,t,e)),this.rightTopLane.setPosition(n),this.rightMidLane.setPosition(i),this.rightBottomLane.setPosition(o)},a.updateConfigCenterPoints=function(t,e,n){var i=Math.atan2(t.y,t.x),o=new c(c.ZERO);c.multiplyScalar(o,t,e);var r=new c(0,n,0);c.rotateZ(r,r,c.ZERO,this.eyeRatio*i),c.add(r,r,o);var a=new c(0,-n,0);c.rotateZ(a,a,c.ZERO,this.eyeRatio*i),c.add(a,a,o),this.centerTopLane.setPosition(r),this.centerMidLane.setPosition(o),this.centerBottomLane.setPosition(a)},r(e,[{key:"roadPatternOffset",get:function(){return this._roadPatternOffset},set:function(t){t.equals(this._roadPatternOffset)||(this._roadPatternOffset.set(t),this.updateConfig())}},{key:"laneCenterOffset",get:function(){return this._laneCenterOffset},set:function(t){this._laneCenterOffset.equals(t)||(this._laneCenterOffset=t,this.updateConfig())}},{key:"laneLeftDistance",get:function(){return this._laneLeftDistance},set:function(t){t!==this._laneLeftDistance&&(this._laneLeftDistance=t,this.updateConfig())}},{key:"laneRightDistance",get:function(){return this._laneRightDistance},set:function(t){t!==this._laneRightDistance&&(this._laneRightDistance=t,this.updateConfig())}},{key:"eyeRatio",get:function(){return this._eyeRatio},set:function(t){t!==this._eyeRatio&&(this._eyeRatio=t,this.updateConfig())}}]),e}(y)).prototype,"roadPatternOffset",[b],Object.getOwnPropertyDescriptor(E.prototype,"roadPatternOffset"),E.prototype),A=e(E.prototype,"_roadPatternOffset",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s(s.ZERO)}}),e(E.prototype,"laneCenterOffset",[P],Object.getOwnPropertyDescriptor(E.prototype,"laneCenterOffset"),E.prototype),F=e(E.prototype,"_laneCenterOffset",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s(s.ZERO)}}),e(E.prototype,"laneLeftDistance",[O],Object.getOwnPropertyDescriptor(E.prototype,"laneLeftDistance"),E.prototype),I=e(E.prototype,"_laneLeftDistance",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),e(E.prototype,"laneRightDistance",[w],Object.getOwnPropertyDescriptor(E.prototype,"laneRightDistance"),E.prototype),K=e(E.prototype,"_laneRightDistance",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),e(E.prototype,"eyeRatio",[R],Object.getOwnPropertyDescriptor(E.prototype,"eyeRatio"),E.prototype),V=e(E.prototype,"_eyeRatio",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),q=e(E.prototype,"leftTopLane",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(E.prototype,"leftMidLane",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(E.prototype,"leftBottomLane",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(E.prototype,"centerTopLane",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(E.prototype,"centerMidLane",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(E.prototype,"centerBottomLane",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(E.prototype,"rightTopLane",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(E.prototype,"rightMidLane",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(E.prototype,"rightBottomLane",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=E))||k)||k)||k));a._RF.pop()}}}));

System.register("chunks:///_virtual/LoadSceneManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./EventManager.ts","./Defines.ts"],(function(e){var n,t,i,o,a,c,r,s,l,d,u,h,f,S,m;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){c=e.cclegacy,r=e._decorator,s=e.Node,l=e.assetManager,d=e.director,u=e.Component},function(e){h=e.SendTrackingAndExit},function(e){f=e.default},function(e){S=e.EventType,m=e.ActionSystem}],execute:function(){var g,p,v,w,b,T,y,L,O,C,E;c._RF.push({},"1868cOkmEpGRKqkWxuSisPg","LoadSceneManager",void 0);var F=r.ccclass,I=r.property;e("LoadSceneManager",(g=F("LoadSceneManager"),p=I(s),v=I(s),w=I(s),b=I(s),g((L=n((y=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),c=0;c<t;c++)a[c]=arguments[c];return n=e.call.apply(e,[this].concat(a))||this,i(n,"container",L,o(n)),i(n,"loadingInfo",O,o(n)),i(n,"lostConnection",C,o(n)),i(n,"buttonClose",E,o(n)),n.fadeScreen=void 0,n.isLoadFailed=!1,n.loadedScene=void 0,n.timeoutHandle=void 0,n.sceneName="",n.retryTimes=3,n}t(n,e);var c=n.prototype;return c.show=function(e){void 0===e&&(e=!0),this.node.active=e},c.loadScene=function(e){var n=this;this.fadeScreen.in((function(){n.fadeScreen.out((function(){n.loadingInfo.active=!0,n.lostConnection.active=!1,n.buttonClose.active=!1,n.SceneName=e,f.GetInstance().on(S.SYSTEM,n.OnInterruptEvent,n),l.main.loadScene(e,n.OnProgressing.bind(n),n.OnSceneLaunched.bind(n)),l.downloader.on("error",(function(e){n.isLoadFailed=!0})),n.StartTimeout(),0==window.gLoadingTimeSpent&&(window.gLoadingTimeSpent=window.gTotalTimeSpent)})),n.container.active=!0}))},c.update=function(e){!this.lostConnection.active&&this.container.active&&(window.gLoadingTimeSpent+=e)},c.OnSceneLaunched=function(e,n){var t=this;e||this.isLoadFailed?this.retryTimes>0?(this.retryTimes-=1,clearTimeout(this.timeoutHandle),setTimeout((function(){t.OnRetry()}),1e3)):(clearTimeout(this.timeoutHandle),this.OnFail()):(clearTimeout(this.timeoutHandle),this.lostConnection.active?this.loadedScene=n:this.Switch2Scene(n))},c.OnProgressing=function(e,n,t){},c.OnRetry=function(){var e=this;this.loadingInfo.active=!0,this.lostConnection.active=!1,this.loadedScene?setTimeout((function(){return e.Switch2Scene(e.loadedScene)}),1e3):(this.isLoadFailed&&(this.isLoadFailed=!1,l.downloader._queue=[],l.downloader._downloading.clear(),l._files.clear(),l.main.loadScene("Ingame",this.OnProgressing.bind(this),this.OnSceneLaunched.bind(this))),this.StartTimeout())},c.OnExit=function(){h()},c.OnFail=function(){this.loadingInfo.active=!1,this.lostConnection.active=!0},c.StartTimeout=function(){var e=this;this.timeoutHandle=setTimeout((function(){e.OnFail()}),3e4)},c.Switch2Scene=function(e){this.fadeScreen.in((function(){d.runSceneImmediate(e)}))},c.OnInterruptEvent=function(e){var n=this;if(this.node.active)switch(e.action){case m.PAUSE:break;case m.RESUME:this.loadedScene&&setTimeout((function(){return n.Switch2Scene(n.loadedScene)}),1e3);break;case m.BACK:this.OnExit()}},a(n,[{key:"SceneName",set:function(e){this.sceneName=e}},{key:"Fade",set:function(e){this.fadeScreen=e}}]),n}(u)).prototype,"container",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=n(y.prototype,"loadingInfo",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=n(y.prototype,"lostConnection",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=n(y.prototype,"buttonClose",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=y))||T));c._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./LabelLocalized.ts","./EN.ts","./ID.ts","./RU.ts","./i18n.ts","./BallDefines.ts","./DeckDefines.ts","./Defines.ts","./EnemyDefines.ts","./GameInit.ts","./Ball.ts","./Board.ts","./Enemy.ts","./FrameMgr.ts","./GameplayMgr.ts","./Player.ts","./MapGenerator.ts","./MapNode.ts","./MapPlayerTracker.ts","./PlayerDefines.ts","./ResizeSprite.ts","./ElfScene.ts","./SceneBase.ts","./SceneHome.ts","./SceneIngame.ts","./APIDefine.ts","./EventManager.ts","./PopupMgr.ts","./Timer.ts","./Utils.ts","./Popup.ts","./PopupExit.ts","./PopupTutorial.ts","./AspectRatio.ts","./Fade.ts","./LanesConfig.ts","./SequenceAnimation.ts","./SingletonComponent.ts","./SingletonScene.ts","./SoundMgr.ts","./SoundMgrWithoutSingleton.ts","./LoadSceneManager.ts","./debug-view-runtime-control.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MapGenerator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./MapNode.ts","./Utils.ts"],(function(e){var o,n,t,i,s,a,r,l,d,p,h,m,u,f,c,v,g,N;return{setters:[function(e){o=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized,s=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,r=e._decorator,l=e.Node,d=e.Prefab,p=e.UITransform,h=e.instantiate,m=e.Vec3,u=e.Graphics,f=e.Component},function(e){c=e.NodeType},function(e){v=e.MapNode},function(e){g=e.RandInt,N=e.removeAt}],execute:function(){var y,P,b,M,C,w,E,L,T,G,S;a._RF.push({},"6694dn+aDJPjq05cPbTKxvY","MapGenerator",void 0);var x=r.ccclass,z=r.property;e("MapGenerator",(y=x("MapGenerator"),P=z(l),b=z(d),M=z(d),y((E=o((w=function(e){function o(){for(var o,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return o=e.call.apply(e,[this].concat(s))||this,t(o,"mapContent",E,i(o)),t(o,"mapNodePrefab",L,i(o)),t(o,"mapLinePrefab",T,i(o)),t(o,"levels",G,i(o)),t(o,"nodesPerLevel",S,i(o)),o.mapNodes=[],o.padding=125,o.mapPaddingTop=500,o.scaleNodeBoss=4,o.connectionOffset=35,o.offset=0,o}n(o,e);var a=o.prototype;return a.onLoad=function(){this.generateMap()},a.generateMap=function(){this.offset=(this.nodesPerLevel-1)*this.padding/2,this.generateMapNodes(),this.weldIteration(),this.initMapNodeData(),this.drawConnections()},a.generateMapNodes=function(){this.mapContent.parent.parent.parent.getComponent(p).width=this.nodesPerLevel*this.padding+this.connectionOffset,this.mapContent.parent.getComponent(p).height=this.levels*this.padding+this.mapPaddingTop;for(var e=0;e<this.levels;e++){for(var o=[],n=0;n<this.nodesPerLevel;n++){var t=h(this.mapNodePrefab).getComponent(v);o.push(t),this.mapContent.addChild(t.node),t.node.setPosition(this.randomNodePosition(e,n))}this.mapNodes.push(o)}for(var i=0;i<this.levels;i++)for(var s=0;s<this.nodesPerLevel;s++){var a=i-1<0?null:this.mapNodes[i-1][s],r=i+1>=this.levels?null:this.mapNodes[i+1][s],l=this.mapNodes[i][s];a&&l.outGoingNodes.push(a),r&&l.inCommingNodes.push(r)}},a.randomNodePosition=function(e,o){var n=new m(o*this.padding-this.offset,(e+1)*this.padding,0);e==this.levels-1&&(n.y+=this.mapPaddingTop/3);var t=new m(1,1,0).multiply3f(Math.random()-.5,Math.random()-.5,0).multiplyScalar(this.padding/3);return n.add(t)},a.weldIteration=function(){for(var e=0;e<this.levels;e++)for(var o=e==this.levels-1?this.nodesPerLevel-1:g(0,this.nodesPerLevel-1),n=0;n<o;n++){var t=Math.floor(Math.random()*(this.mapNodes[e].length-1)),i=this.mapNodes[e][t],a=this.mapNodes[e][t+1];N(this.mapNodes[e],a),i.node.setPosition(i.node.position.add(a.node.position).multiplyScalar(.5));for(var r,l=s(a.outGoingNodes);!(r=l()).done;){var d=r.value;N(d.inCommingNodes,a),-1==d.inCommingNodes.indexOf(i)&&d.inCommingNodes.push(i),-1==i.outGoingNodes.indexOf(d)&&i.outGoingNodes.push(d)}for(var p,h=s(a.inCommingNodes);!(p=h()).done;){var m=p.value;N(m.outGoingNodes,a),-1==m.outGoingNodes.indexOf(i)&&m.outGoingNodes.push(i),-1==i.inCommingNodes.indexOf(m)&&i.inCommingNodes.push(m)}a.node.destroy()}},a.drawConnections=function(){for(var e=0;e<this.levels-1;e++)for(var o,n=s(this.mapNodes[e]);!(o=n()).done;)for(var t,i=o.value,a=s(i.inCommingNodes);!(t=a()).done;){var r=t.value,l=r.node.position.clone().subtract(i.node.position).normalize().multiplyScalar(this.connectionOffset),d=r.nodeType==c.Boss,p=i.node.position.clone().add(l),h=r.node.position.clone().subtract(d?l.multiplyScalar(this.scaleNodeBoss):l);this.drawLine(p,h)}},a.drawLine=function(e,o){var n=h(this.mapLinePrefab);n.setPosition(e),this.mapContent.addChild(n);var t=n.getComponent(u);t.moveTo(0,0),t.lineTo(o.x-e.x,o.y-e.y),t.stroke()},a.initMapNodeData=function(){for(var e=0;e<this.levels;e++)for(var o=this.mapNodes[e].length,n=0;n<o;n++){var t=this.mapNodes[e][n],i={level:e+1,type:this.getNodeType(e+1),scaleNodeBoss:this.scaleNodeBoss};t.Init(i)}},a.getNodeType=function(e){var o=[];return o=e<=1?["MinorEnemy"]:e<=3||e==this.levels-2?["MinorEnemy","MinorEnemy","Unknown","Treasure","SpellRoom"]:e==Math.floor(this.levels/3)||e==Math.floor(2*this.levels/3)?["EliteEnemy","EliteEnemy","EliteEnemy","MinorEnemy","MinorEnemy"]:e<this.levels-2?["Enemy","Enemy","RestSite","Unknown","Treasure","SpellRoom"]:e==this.levels-1?["RestSite"]:["Boss"],this.randomNodeType(o)},a.randomNodeType=function(e){var o=e[g(0,e.length-1)];return"Enemy"==o?Math.random()<.8?c.MinorEnemy:c.EliteEnemy:c[o]},o}(f)).prototype,"mapContent",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=o(w.prototype,"mapNodePrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=o(w.prototype,"mapLinePrefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=o(w.prototype,"levels",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=o(w.prototype,"nodesPerLevel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=w))||C));a._RF.pop()}}}));

System.register("chunks:///_virtual/MapNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./Utils.ts","./EventManager.ts"],(function(e){var t,i,o,n,r,a,s,l,c,d,u,p,h,f,g,v,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized,r=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,s=e._decorator,l=e.Sprite,c=e.Color,d=e.SpriteFrame,u=e.Vec3,p=e.Component},function(e){h=e.NodeType,f=e.NodeStates,g=e.GAME_EVENTS},function(e){v=e.RandInt},function(e){m=e.default}],execute:function(){var b,y,N,S,C,k,E,T,L,M,w,G,I;a._RF.push({},"c069fj4GitCSpb3YkkaxMC7","MapNode",void 0);var R=s.ccclass,z=s.property;e("MapNode",(b=R("MapNode"),y=z(l),N=z(l),S=z(c),C=z(c),k=z(d),b((L=t((T=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"icon",L,n(t)),o(t,"visited",M,n(t)),o(t,"visitedColor",w,n(t)),o(t,"lockedColor",G,n(t)),o(t,"images",I,n(t)),t.nodeLevel=-1,t.nodeType=h.MinorEnemy,t.outGoingNodes=[],t.inCommingNodes=[],t.nodeState=f.Locked,t}i(t,e);var a=t.prototype;return a.Init=function(e){var t=this,i=e.level,o=e.type,n=e.scaleNodeBoss;this.nodeLevel=i,this.nodeType=o;var r=o;o==h.Boss&&(this.node.setScale(new u(1,1,1).multiplyScalar(n)),r=v(o,this.images.length-1)),this.icon.spriteFrame=this.images[r],this.visited.fillRange=0,1==i?this.setState(f.Attainable):this.setState(f.Locked),m.GetInstance().on(g.ENTER_NODE,(function(){t.nodeState==f.Attainable&&t.setState(f.Locked)}),this)},a.onClick=function(){console.log("nodeType: "+h[this.nodeType]),console.log("outGoingNodes: "+this.outGoingNodes.length);for(var e,t=r(this.outGoingNodes);!(e=t()).done;){var i=e.value;console.log("connection: "+h[i.nodeType])}console.log("inCommingNodes: "+this.inCommingNodes.length);for(var o,n=r(this.inCommingNodes);!(o=n()).done;){i=o.value;console.log("connection: "+h[i.nodeType])}this.nodeState==f.Attainable&&(this.setState(f.Visited),m.GetInstance().emit(g.ENTER_NODE,{mapNode:this}))},a.setState=function(e){switch(this.nodeState=e,e){case f.Locked:this.icon.color=this.lockedColor;break;case f.Attainable:this.icon.color=this.visitedColor;break;case f.Visited:this.icon.color=this.visitedColor,this.animVisited()}},a.animVisited=function(){var e=this,t=setInterval((function(){if(e.visited.fillRange>=1)return clearInterval(t),void e.inCommingNodes.forEach((function(e){return e.setState(f.Attainable)}));e.visited.fillRange+=.03}),.03)},t}(p)).prototype,"icon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(T.prototype,"visited",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(T.prototype,"visitedColor",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(T.prototype,"lockedColor",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(T.prototype,"images",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=T))||E));a._RF.pop()}}}));

System.register("chunks:///_virtual/MapPlayerTracker.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./EventManager.ts"],(function(e){var n,o,t,r,a,c,s;return{setters:[function(e){n=e.inheritsLoose},function(e){o=e.cclegacy,t=e._decorator,r=e.Component},function(e){a=e.GAME_EVENTS,c=e.NodeType},function(e){s=e.default}],execute:function(){var i;o._RF.push({},"fac18oIiohLJ65aJ+jYpStg","MapPlayerTracker",void 0);var p=t.ccclass;t.property,e("MapPlayerTracker",p("MapPlayerTracker")(i=function(e){function o(){return e.apply(this,arguments)||this}n(o,e);var t=o.prototype;return t.onLoad=function(){var e=this;s.GetInstance().on(a.ENTER_NODE,(function(n){var o=n.mapNode;e.enterNode(o)}),this)},t.enterNode=function(e){switch(console.log("enter node: "+c[e.nodeType]),e.nodeType){case c.Unknown:case c.MinorEnemy:case c.EliteEnemy:case c.RestSite:case c.Treasure:case c.SpellRoom:case c.Boss:}},o}(r))||i);o._RF.pop()}}}));

System.register("chunks:///_virtual/Player.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./PlayerDefines.ts","./Utils.ts","./Defines.ts","./Ball.ts"],(function(t){var s,e,n,i,a,o,h,r,S,c,A,p,l,P,E,f,H,u,g,_,d;return{setters:[function(t){s=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.extends,o=t.createClass},function(t){h=t.cclegacy,r=t._decorator,S=t.ccenum,c=t.ProgressBar,A=t.Label,p=t.Sprite,l=t.Color,P=t.Component},function(t){E=t.default},function(t){f=t.CHARACTERS,H=t.characterStats,u=t.PLAYER_BASE_STATS},function(t){g=t.cloneObj},function(t){_=t.GAME_EVENTS},function(t){d=t.Ball}],execute:function(){var L,M,m,I,C;h._RF.push({},"27cd7ZMC/1MXL1nAxUhFoFq","Player",void 0);var T=r.ccclass,D=r.property;S(f);t("Player",(L=T("Player"),M=D({type:f}),L((C=s((I=function(t){function s(){for(var s,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return s=t.call.apply(t,[this].concat(a))||this,n(s,"character",C,i(s)),s.stats=void 0,s.hpBar=void 0,s.hpTxt=void 0,s.shieldBar=void 0,s.manaTxt=void 0,s}e(s,t);var h=s.prototype;return h.onLoad=function(){var t=this,s=this.node.getChildByName("HP"),e=s.getChildByName("txt"),n=this.node.getChildByName("Shield"),i=this.node.getChildByName("ManaTxt");this.hpBar=s,this.hpTxt=e,this.shieldBar=n,this.manaTxt=i,this.Stats=g(a({},u,H[this.character])),this.Stats.HP=this.Stats.HP_BASE*this.Stats.HP_MULTIPLIER,this.Stats.HP_MAX=this.Stats.HP_BASE*this.Stats.HP_MULTIPLIER,this.Stats.MANA=this.Stats.MANA_MAX,this.hpBar.getComponent(c).progress=this.Stats.HP/this.Stats.HP_MAX,this.shieldBar.getComponent(c).progress=this.Stats.SHIELD/this.Stats.HP_MAX,this.hpTxt.getComponent(A).string=this.Stats.HP+"/"+this.Stats.HP_MAX,this.manaTxt.getComponent(A).string=this.Stats.MANA+"/"+this.Stats.MANA_MAX,E.GetInstance().on(_.PLAYER_HIT,(function(s){var e=s.dmg;t.hit(e)})),E.GetInstance().on(_.PLAYER_DROP,(function(s){t.drop(s)})),E.GetInstance().on(_.PLAYER_ATTACK,(function(s){var e=s.dmg;t.attack(e)})),E.GetInstance().on(_.PLAYER_DEFENSE,(function(s){var e=s.amount;t.defense(e)}))},h.onDestroy=function(){E.GetInstance().off(_.PLAYER_HIT),E.GetInstance().off(_.PLAYER_DROP),E.GetInstance().off(_.PLAYER_ATTACK),E.GetInstance().off(_.PLAYER_DEFENSE)},h.hit=function(t){var s=t;this.Stats.SHIELD&&(this.Stats.SHIELD-=s,this.Stats.SHIELD<0?(s=-this.Stats.SHIELD,this.Stats.SHIELD=0):s=0),this.Stats.HP-=s,this.hpTxt.getComponent(A).string=this.Stats.HP+"/"+this.Stats.HP_MAX+(this.Stats.SHIELD?"("+this.Stats.SHIELD+")":""),this.hpBar.getComponent(c).progress=this.Stats.HP/this.Stats.HP_MAX,this.shieldBar.getComponent(c).progress=this.Stats.SHIELD/this.Stats.HP_MAX},h.drop=function(t){var s=t.mana,e=t.selection,n=t.ball;if(this.Stats.MANA-s<0)return E.GetInstance().emit(_.BALL_DROP_FAIL),e.getComponent(p).color=l.WHITE,void n.getComponent(d).fail();e.destroy(),n.getComponent(d).drop(),this.Stats.MANA-=s,E.GetInstance().emit(_.BALL_DROP),0===this.Stats.MANA&&(E.GetInstance().emit(_.ENEMY_ATTACK),this.Stats.MANA=this.Stats.MANA_MAX),this.manaTxt.getComponent(A).string=this.Stats.MANA+"/"+this.Stats.MANA_MAX},h.attack=function(t){E.GetInstance().emit(_.ENEMY_HIT,{dmg:t})},h.defense=function(t){this.Stats.SHIELD+=t,this.hpTxt.getComponent(A).string=this.Stats.HP+"/"+this.Stats.HP_MAX+(this.Stats.SHIELD?"("+this.Stats.SHIELD+")":""),this.hpBar.getComponent(c).progress=this.Stats.HP/this.Stats.HP_MAX,this.shieldBar.getComponent(c).progress=this.Stats.SHIELD/this.Stats.HP_MAX},o(s,[{key:"Stats",get:function(){return this.stats},set:function(t){this.stats=t}}]),s}(P)).prototype,"character",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.NORMAL}}),m=I))||m));h._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerDefines.ts",["cc"],(function(A){var e;return{setters:[function(A){e=A.cclegacy}],execute:function(){var r;e._RF.push({},"ce3baWNA1NDSrUT+cXAH70g","PlayerDefines",void 0);A("PLAYER_BASE_STATS",{HP:50,HP_BASE:50,HP_MAX:50,HP_MULTIPLIER:1,MANA:3,MANA_MAX:3,ATTACK:5,ATTACK_MULTIPLIER:1,SHIELD:0,SHIELD_MULTIPLER:1,CRIT_RATE:0,CRIT_DAMAGE:1.5});var t=A("CHARACTERS",function(A){return A[A.NORMAL=0]="NORMAL",A}({}));A("characterStats",((r={})[t.NORMAL]={HP_BASE:50,HP_MULTIPLIER:1},r)),A("characterDatas",{NORMAL:{LEVEL:0}});e._RF.pop()}}}));

System.register("chunks:///_virtual/Popup.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,i,o,r,c,a,s,u,l,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,a=e.Node,s=e.Vec3,u=e.tween,l=e.UITransform,p=e.view,f=e.Component}],execute:function(){var h,d,v,g,w;r._RF.push({},"cbe0emG7o1H8K3XPik63x0w","Popup",void 0);var y=c.ccclass,b=c.property;e("Popup",(h=y("Popup"),d=b(a),h((w=t((g=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,i(t,"container",w,o(t)),t}n(t,e);var r=t.prototype;return r.onEnable=function(){this.container.setScale(new s(0,0,1)),u(this.container).to(.5,{scale:new s(.5,.5,1)},{easing:"elasticOut"}).start(),this.node.getComponent(l).contentSize=p.getVisibleSize()},r.start=function(){},r.Show=function(){this.node.active=!0},r.IsShowing=function(){return this.node.active},r.Hide=function(e){var t=this;void 0===e&&(e=function(){}),u(this.container).to(.5,{scale:new s(0,0,1)},{easing:"elasticIn"}).call((function(){e(),t.destroy()})).start()},t}(f)).prototype,"container",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=g))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/PopupExit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Defines.ts","./Popup.ts"],(function(t){var n,e,o,i,c,u,p;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){i=t.default},function(t){c=t.ActionPopupExit,u=t.EventType},function(t){p=t.Popup}],execute:function(){var r;e._RF.push({},"cfc1bnNZ6BCBKDNr/Vkezil","PopupExit",void 0);var a=o.ccclass;o.property,t("PopupExit",a("PopupExit")(r=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.OnYes=function(){var t={action:c.YES,data:{}};i.GetInstance().emit(u.POPUP_EXIT,t)},o.OnNo=function(){var t={action:c.NO,data:{}};i.GetInstance().emit(u.POPUP_EXIT,t)},e}(p))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/PopupMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Popup.ts"],(function(e){var t,n,r,o,i,p,u,a,s,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,p=e._decorator,u=e.Prefab,a=e.instantiate,s=e.Component},function(e){c=e.Popup}],execute:function(){var l,d,h,f,g;i._RF.push({},"da49frPsflJopIacJTupxuw","PopupMgr",void 0);var P=p.ccclass,v=p.property;e("PopupMgr",(l=P("PopupMgr"),d=v(u),l((g=t((f=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),p=0;p<n;p++)i[p]=arguments[p];return t=e.call.apply(e,[this].concat(i))||this,r(t,"popups",g,o(t)),t}n(t,e);var i=t.prototype;return i.push=function(e){var t=this.popups.find((function(t){return t.data._name===e}));t||console.error("Popup "+e+" is not exist");var n=a(t);this.node.addChild(n)},i.pop=function(){this.node.children.length&&this.node.children[this.node.children.length-1].getComponent(c).Hide()},t}(s)).prototype,"popups",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=f))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/PopupTutorial.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Defines.ts"],(function(t){var e,n,i,o,a,r,c,s,u,l,p,f,d,h,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,c=t.Node,s=t.Vec3,u=t.tween,l=t.UITransform,p=t.view,f=t.Component},function(t){d=t.default},function(t){h=t.ActionPopupTutorial,v=t.EventType}],execute:function(){var g,y,P,T,w;a._RF.push({},"7a891KRskdCYqQEC5GRaCHg","PopupTutorial",void 0);var b=r.ccclass,m=r.property;t("PopupTutorial",(g=b("PopupTutorial"),y=m(c),g((w=e((T=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,i(e,"container",w,o(e)),e}n(e,t);var a=e.prototype;return a.onEnable=function(){this.container.setScale(new s(0,0,1)),u(this.container).to(.5,{scale:new s(1,1,1)},{easing:"elasticOut"}).start(),this.node.getComponent(l).contentSize=p.getVisibleSize()},a.start=function(){},a.Show=function(){this.node.active=!0},a.Hide=function(t){var e=this;u(this.container).to(.5,{scale:new s(0,0,1)},{easing:"elasticIn"}).call((function(){e.node.active=!1,t()})).start()},a.OnHide=function(){var t={action:h.HIDE,data:{}};d.GetInstance().emit(v.POPUP_TUTORIAL,t)},e}(f)).prototype,"container",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=T))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/ResizeSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,r,o,h,s,a,p,c,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,h=t._decorator,s=t.Enum,a=t.CCBoolean,p=t.Sprite,c=t.UITransform,d=t.Component}],execute:function(){var m,g,u,l,f,I,H;o._RF.push({},"30cfftbJhRAJaar6PcREyye","ResizeSprite",void 0);var v=h.ccclass,C=h.property,S=s({WIDTH:0,HEIGHT:1,BOTH:2});t("ResizeSprirte",(m=v("ResizeSprirte"),g=C({type:S}),u=C(a),m((I=e((f=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),h=0;h<i;h++)o[h]=arguments[h];return e=t.call.apply(t,[this].concat(o))||this,n(e,"MatchMode",I,r(e)),n(e,"UseUpdateMethod",H,r(e)),e.mInitWidth=void 0,e.mInitHeight=void 0,e.mInitSpriteWidth=void 0,e.mInitSpriteHeight=void 0,e}i(e,t);var o=e.prototype;return o.onLoad=function(){if(this.getComponent(p).sizeMode=p.SizeMode.CUSTOM,this.mInitWidth=this.node.getComponent(c).width,this.mInitHeight=this.node.getComponent(c).height,this.getComponent(p).spriteFrame){var t=this.getComponent(p).spriteFrame.getRect();this.mInitSpriteWidth=t.width,this.mInitSpriteHeight=t.height}},o.init=function(){var t=this.getComponent(p).spriteFrame.getRect();this.mInitSpriteWidth=t.width,this.mInitSpriteHeight=t.height},o.onEnable=function(){this.resize()},o.update=function(t){this.UseUpdateMethod&&this.resize()},o.resize=function(){if(this.getComponent(p).spriteFrame){var t=this.getComponent(p).spriteFrame.getRect(),e=this.mInitWidth,i=this.mInitHeight;switch(this.MatchMode){case S.WIDTH:i=(e=this.mInitWidth)*(t.height/t.width);break;case S.HEIGHT:e=(i=this.mInitHeight)*(t.width/t.height);break;case S.BOTH:}this.node.getComponent(c).width=e,this.node.getComponent(c).height=i}},e}(d)).prototype,"MatchMode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),H=e(f.prototype,"UseUpdateMethod",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=f))||l));o._RF.pop()}}}));

System.register("chunks:///_virtual/RU.ts",["cc"],(function(T){var R;return{setters:[function(T){R=T.cclegacy}],execute:function(){R._RF.push({},"33cb5TIb7lH9LCZj5zZGGV+","RU",void 0);T("RU",{CONGRATULATIONS:"!",YOUR_SCORE:" : %d",REWARD_CANTGET:"   -   . ,     !",TUTORIAL_1:"   ,   ",LOADING:"",INTERSTITIAL_1:"   %d %token%",LOST_CONNECT:",     .",EXIT_POPUP:" ?       .",RETRY:" ",AD_TEXT:"",GAME_TEXT_2:" !",END_TEXT_1:" ",REPLAY:"",OK_BTN:"OK",QUIT:"",RESUME:"",GO:"!"});R._RF.pop()}}}));

System.register("chunks:///_virtual/SceneBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonScene.ts"],(function(e){var n,t,c,r;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,c=e._decorator},function(e){r=e.default}],execute:function(){var s;t._RF.push({},"006b6mRQfFAAqcQYQJCXQB+","SceneBase",void 0);var o=c.ccclass;c.property,e("SceneBase",o("SceneBase")(s=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t}(r()))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/SceneHome.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonScene.ts"],(function(e){var n,t,c,o;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,c=e._decorator},function(e){o=e.default}],execute:function(){var r;t._RF.push({},"862b4M3WUxMXKKBBxtS158a","SceneHome",void 0);var u=c.ccclass;c.property,e("SceneHome",u("SceneHome")(r=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t}(o()))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/SceneIngame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonScene.ts"],(function(e){var n,t,c,r;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,c=e._decorator},function(e){r=e.default}],execute:function(){var o;t._RF.push({},"b241evcFzBDTIDSFVRp3ntA","SceneIngame",void 0);var u=c.ccclass;c.property,e("SceneIngame",u("SceneIngame")(o=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t}(r()))||o);t._RF.pop()}}}));

System.register("chunks:///_virtual/SequenceAnimation.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,i,o,r,a,s,l,u,p,c,h,d,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty,i=e.inheritsLoose,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.AnimationClip,l=e.CCFloat,u=e.ccenum,p=e.Animation,c=e.EventTarget,h=e.Sprite,d=e.Color,m=e.Component}],execute:function(){var _,f,y,g,b,x,S,v,N,I,E,R,L,A,C,w,q,P,z,M,O;r._RF.push({},"ed83bh+EslOPoWF2B/enUjR","SequenceAnimation",void 0);var D=a.ccclass,T=a.property,F=(a.executeInEditMode,a.executionOrder,a.requireComponent),W=e("ISequenceAnimation",(_=D("ISequenceAnimation"),f=T({type:s,tooltip:"Animation clip should not loop",serializable:!0}),y=T({tooltip:"Animation clip should be delay before play",serializable:!0}),g=T({type:l,tooltip:"delay timer in second",serializable:!0,min:0,step:.1}),_((S=t((x=function(){n(this,"animationClip",S,this),n(this,"isDelay",v,this),n(this,"delayTimer",N,this)}).prototype,"animationClip",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(x.prototype,"isDelay",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),N=t(x.prototype,"delayTimer",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=x))||b)),B=e("SequenceWrapModeMask",function(e){return e[e.Default=0]="Default",e[e.Normal=1]="Normal",e[e.Loop=2]="Loop",e[e.ShouldWrap=4]="ShouldWrap",e[e.ForceRebound=16]="ForceRebound",e[e.PingPong=22]="PingPong",e[e.Reverse=36]="Reverse",e}({})),j=e("SequenceWrapMode",function(e){return e[e.Default=0]="Default",e[e.Normal=1]="Normal",e[e.Reverse=36]="Reverse",e[e.Loop=2]="Loop",e[e.LoopReverse=38]="LoopReverse",e[e.PingPong=22]="PingPong",e[e.PingPongReverse=54]="PingPongReverse",e}({}));u(j);var k=e("SequenceStatus",{NONE:"SequenceEventNone",BEGIN:"SequenceEventBegin",NEXT:"SequenceEventNext",END:"SequenceEventEnd"});e("SequenceAnimation",(I=D("SequenceAnimation"),E=F(p),R=T({type:[W],serializable:!0}),L=T({type:j,serializable:!0}),A=T({serializable:!0}),C=T({serializable:!0}),I(w=E((P=t((q=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"clips",P,o(t)),n(t,"wrapMode",z,o(t)),n(t,"transparentOnLoad",M,o(t)),n(t,"playOnLoad",O,o(t)),t._currentIndex=-1,t._nextStep=0,t._status=k.NONE,t._animationComponent=null,t._event=new c,t}i(t,e);var r=t.prototype;return r.onLoad=function(){this._animationComponent=this.getComponent(p),this.reset()},r.start=function(){if(this.transparentOnLoad){var e=this.getComponent(h);e&&(e.color=d.TRANSPARENT)}this.playOnLoad&&this.playSequence()},r.playSequence=function(){var e=this;if(this._status!==k.NONE&&this._status!==k.END){this._event.emit(this._status,this._currentIndex);var t=this.clips[this._currentIndex];t.isDelay?this.scheduleOnce((function(){e.playAnimation(t.animationClip)}),t.delayTimer):this.playAnimation(t.animationClip)}else this._event.emit(this._status)},r.playAnimation=function(e){e?(e.wrapMode&B.Loop?(console.warn(e.name+" should not LOOP"),this._animationComponent.once(p.EventType.LASTFRAME,this.doNext,this)):this._animationComponent.once(p.EventType.FINISHED,this.doNext,this),this._animationComponent.createState(e,e.name),this._animationComponent.play(e.name)):this.doNext("",null)},r.doNext=function(e,t){e===p.EventType.LASTFRAME&&this._animationComponent.stop(),this.getNextIndex(),this.playSequence()},r.reset=function(){this._status=k.NONE,this._animationComponent.clips=[],this.getStartIndex()},r.getStartIndex=function(){this.clips.length>0&&(this._status=k.BEGIN),(this.wrapMode&B.Reverse)===B.Reverse?(this._currentIndex=this.clips.length-1,this._nextStep=-1):(this._currentIndex=0,this._nextStep=1)},r.getNextIndex=function(){this._status=k.NEXT,this._currentIndex+=this._nextStep,(this.wrapMode&B.Loop)===B.Loop?(this.wrapMode&B.ShouldWrap)===B.ShouldWrap?this._currentIndex===this.clips.length?(this.wrapMode&B.ForceRebound)===B.ForceRebound?(this._currentIndex=this.clips.length-1,this._nextStep=-1):this._currentIndex=0:this._currentIndex<0&&((this.wrapMode&B.ForceRebound)===B.ForceRebound?(this._currentIndex=0,this._nextStep=1):this._currentIndex=this.clips.length-1):(this.wrapMode&B.Reverse)===B.Reverse?this._currentIndex<0&&(this._currentIndex=this.clips.length-1):this._currentIndex===this.clips.length&&(this._currentIndex=0):(this._currentIndex<0||this._currentIndex===this.clips.length)&&(this._status=k.END)},t}(m)).prototype,"clips",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(q.prototype,"wrapMode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j.Normal}}),M=t(q.prototype,"transparentOnLoad",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O=t(q.prototype,"playOnLoad",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=q))||w)||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/SingletonComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e,i,o;return{setters:[function(n){t=n.inheritsLoose,e=n.createClass},function(n){i=n.cclegacy,o=n.Component}],execute:function(){n("default",(function(){var n=function(n){function i(){return n.apply(this,arguments)||this}return t(i,n),i.prototype.onLoad=function(){i.instance?(i.instance.destroy(),i.instance=this):i.instance=this},e(i,null,[{key:"Instance",get:function(){return this.instance}}]),i}(o);return n.instance=void 0,n})),i._RF.push({},"59bc1OMZdVNKbrNuOsri2gs","SingletonComponent",void 0),i._RF.pop()}}}));

System.register("chunks:///_virtual/SingletonScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ElfScene.ts"],(function(n){var t,e,c,i;return{setters:[function(n){t=n.inheritsLoose,e=n.createClass},function(n){c=n.cclegacy},function(n){i=n.ElfScene}],execute:function(){n("default",(function(){var n=function(n){function c(){return n.apply(this,arguments)||this}return t(c,n),c.prototype.onLoad=function(){n.prototype.onLoad.call(this),c.instance||(c.instance=this)},e(c,null,[{key:"Instance",get:function(){return this.instance}}]),c}(i);return n.instance=void 0,n})),c._RF.push({},"54d58fp/HlD8qqk1BX8Geha","SingletonScene",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/SoundMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonComponent.ts"],(function(e){var n,i,r,t,o,u,l,a,c,p,_;return{setters:[function(e){n=e.inheritsLoose,i=e.createClass,r=e.applyDecoratedDescriptor,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){u=e.cclegacy,l=e._decorator,a=e.AudioSource,c=e.AudioClip,p=e.game},function(e){_=e.default}],execute:function(){var s,f,S,b,d,y,g,I,M,E,F,X,C,T,m,h,z,N,w,R,O,U,v,L;u._RF.push({},"a116dzhTw9CdqOcir2rQlfX","SoundMgr",void 0);var A=l.ccclass,D=l.property,P=l.requireComponent;e("SoundMgr",(s=A("SoundMgr"),f=P(a),S=D(c),b=D(c),d=D(c),y=D(c),g=D(c),I=D(c),M=D(c),E=D(c),F=D(c),X=D(c),s(C=f((T=function(e){function r(){for(var n,i=arguments.length,r=new Array(i),u=0;u<i;u++)r[u]=arguments[u];return n=e.call.apply(e,[this].concat(r))||this,t(n,"BGM",m,o(n)),t(n,"M_LIC_KT_END",h,o(n)),t(n,"SFX_EXCELENTE",z,o(n)),t(n,"SFX_FRENZY",N,o(n)),t(n,"SFX_MATCH",w,o(n)),t(n,"SFX_MUSIC_NOTE_01",R,o(n)),t(n,"SFX_MUSIC_NOTE_02",O,o(n)),t(n,"SFX_UI_CONFIRM",U,o(n)),t(n,"SFX_UI_TIMER",v,o(n)),t(n,"SFX_UI_TIME_OVER",L,o(n)),n.audioSource=null,n}return n(r,e),r.prototype.onLoad=function(){e.prototype.onLoad.call(this),this.audioSource=this.getComponent(a),p.addPersistRootNode(this.node)},r.playMusic=function(e,n){if(void 0===n&&(n=!0),!this.IsMusicPlaying){var i=r.Instance;i.audioSource.clip=e,i.audioSource.loop=n,i.audioSource.play()}},r.playSfx=function(e){r.Instance.audioSource.playOneShot(e)},r.pauseMusic=function(){r.Instance.audioSource.pause()},i(r,null,[{key:"IsMusicPlaying",get:function(){return r.Instance.audioSource.playing}}]),r}(_()),m=r(T.prototype,"BGM",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=r(T.prototype,"M_LIC_KT_END",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=r(T.prototype,"SFX_EXCELENTE",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=r(T.prototype,"SFX_FRENZY",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=r(T.prototype,"SFX_MATCH",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=r(T.prototype,"SFX_MUSIC_NOTE_01",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=r(T.prototype,"SFX_MUSIC_NOTE_02",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=r(T.prototype,"SFX_UI_CONFIRM",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=r(T.prototype,"SFX_UI_TIMER",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=r(T.prototype,"SFX_UI_TIME_OVER",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=T))||C)||C));u._RF.pop()}}}));

System.register("chunks:///_virtual/SoundMgrWithoutSingleton.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var i,t,e,n,u,r,a,c,l,s;return{setters:[function(o){i=o.applyDecoratedDescriptor,t=o.inheritsLoose,e=o.initializerDefineProperty,n=o.assertThisInitialized,u=o.createClass},function(o){r=o.cclegacy,a=o._decorator,c=o.AudioSource,l=o.AudioClip,s=o.Component}],execute:function(){var p,S,d,h,g,f;r._RF.push({},"f769aYYpWBFkorkS5gTgJzE","SoundMgrWithoutSingleton",void 0);var y=a.ccclass,M=a.property,v=a.requireComponent;o("SoundMgrWithoutSingleton",(p=y("SoundMgrWithoutSingleton"),S=v(c),d=M(l),p(h=S((f=i((g=function(o){function i(){for(var i,t=arguments.length,u=new Array(t),r=0;r<t;r++)u[r]=arguments[r];return i=o.call.apply(o,[this].concat(u))||this,e(i,"SFX_UI_CONFIRM",f,n(i)),i.audioSource=null,i}t(i,o);var r=i.prototype;return r.onLoad=function(){this.audioSource=this.getComponent(c)},r.playMusic=function(o,i){void 0===i&&(i=!0),this.IsMusicPlaying||(this.audioSource.clip=o,this.audioSource.loop=i,this.audioSource.play())},r.playSfx=function(o){this.audioSource.playOneShot(o)},r.pauseMusic=function(){this.audioSource.pause()},u(i,[{key:"IsMusicPlaying",get:function(){return this.audioSource.playing}}]),i}(s)).prototype,"SFX_UI_CONFIRM",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=g))||h)||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/Timer.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"83182rhGv5E5o+cQT5d7b3o","Timer",void 0);t("default",function(){function t(){this.timer=0,this.duration=0,this.overhead=0,this.isDone=!0}var i=t.prototype;return i.SetDuration=function(t){this.timer=this.duration=t,this.overhead=0,this.isDone=!1},i.AddTime=function(t){this.timer+=t,this.overhead=0,this.isDone=!1},i.GetTime=function(){return this.timer},i.GetTimePercent=function(){return this.timer/this.duration},i.Reset=function(){this.timer=this.duration,this.overhead=0,this.isDone=!1},i.IsDone=function(){return 0==this.timer},i.JustFinished=function(){return!(this.timer>0)&&(!this.isDone&&(this.isDone=!0,!0))},i.Update=function(t){0!=this.timer&&(this.timer-=t,this.timer<0&&(this.overhead=-this.timer,this.timer=0))},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc"],(function(e){var t,n,i,o;return{setters:[function(e){t=e.cclegacy,n=e.assetManager,i=e.SpriteFrame,o=e.Texture2D}],execute:function(){e({AddLogText:function(e){var t=window;if(null==t.mMainDivLogText){var n=document.createElement("style");n.innerText="\n            .main_div_log_text{width: 100%; height: 100%; position: fixed; top: 0; left: 0; z-index: 99999; pointer-events: none; text-align: left; overflow: hidden; margin: 0; padding: 0;}\n            .main_div_log_text div{width: 100%; height: 100%; padding: 0; margin: 0; text-align: left; overflow-x: hidden; overflow-y: auto; pointer-events: none;}\n            .main_div_log_text div p{display: inline; margin: 0; padding: 0; font-family: 'Arial'; color: #00ff00; background-color: rgba(0, 0, 0, 0.3); font-size: 2vmax;}\n        ",t.mMainDivLogText=document.createElement("div"),t.mMainDivLogText.classList.add("main_div_log_text"),t.mDivLogText=document.createElement("div"),document.head.appendChild(n),document.body.appendChild(t.mMainDivLogText),t.mMainDivLogText.appendChild(t.mDivLogText)}var i=document.createElement("p");i.innerText=""+e,i.appendChild(document.createElement("br")),t.mDivLogText.appendChild(i),t.mDivLogText.scrollTop=t.mDivLogText.scrollHeight;for(;t.mDivLogText.childNodes.length>2&&t.mDivLogText.lastChild.offsetTop>=.95*t.mDivLogText.getBoundingClientRect().height;)t.mDivLogText.removeChild(t.mDivLogText.firstChild)},DispatchEvent:function(e){var t;try{t=new Event(e)}catch(n){(t=document.createEvent("Event")).initEvent(e,!0,!0)}document.dispatchEvent(t)},GetSpriteFrameFromUrl:function(e){return new Promise((function(t,r){n.loadRemote(e,{xhrMimeType:"image/png"},(function(e,n){if(e)r(null);else{var a=new i,d=new o;d.image=n,a.texture=d,t(a)}}))}))},HideLoadingIcon:function(){var e=document.getElementById("splash");e&&(e.style.display="none")},Rand:function(e,t){return Math.random()*(t-e)+e},RandInt:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},SendTrackingAndExit:function(e){setTimeout((function(){}),0)}}),t._RF.push({},"0bfd3FKV+tHOKMQXz0T5Ucb","Utils",void 0);e("checkPhysicGroup",(function(e,t){return console.log(e,Math.pow(2,t)),e===Math.pow(2,t)})),e("removeAt",(function(e,t){var n=e.indexOf(t,0);return e.splice(n,1),e})),e("cloneObj",(function(e){return JSON.parse(JSON.stringify(e))})),e("cloneArray",(function(e){return Object.assign([],e)}));t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});